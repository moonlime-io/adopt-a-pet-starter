{"ast":null,"code":"import _regeneratorRuntime from\"/Users/io/Dev/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/io/Dev/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/io/Dev/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useMemo}from'react';import Hero from'../../components/hero';import{getPets}from'../../api/petfinder';import Pet from'../../components/pet';// import useLocation here\nimport{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchPage=function SearchPage(){// Get the search value from useLocation() here\nvar _useLocation=useLocation(),search=_useLocation.search;var queryParams=useMemo(function(){return new URLSearchParams(search);},[search]);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];useEffect(function(){function getPetsData(){return _getPetsData.apply(this,arguments);}function _getPetsData(){_getPetsData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var petNameToFind,petsData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:petNameToFind=queryParams.get(\"name\");_context.next=3;return getPets('',petNameToFind);case 3:petsData=_context.sent;setPets(petsData);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getPetsData.apply(this,arguments);}getPetsData();},[queryParams]);return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Hero,{displayText:\"Results for \".concat(queryParams.get('name'))}),/*#__PURE__*/_jsx(\"h3\",{children:\"Pets available for adoption near you\"}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:pets.map(function(pet){return/*#__PURE__*/_jsx(Pet,{animal:pet},pet.id);})})})]});};export default SearchPage;","map":{"version":3,"names":["React","useState","useEffect","useMemo","Hero","getPets","Pet","useLocation","SearchPage","search","queryParams","URLSearchParams","pets","setPets","getPetsData","petNameToFind","get","petsData","map","pet","id"],"sources":["/Users/io/Dev/adopt-a-pet-starter/src/pages/search/index.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport Hero from '../../components/hero';\nimport { getPets } from '../../api/petfinder';\nimport Pet from '../../components/pet';\n\n// import useLocation here\nimport { useLocation } from 'react-router-dom';\n\nconst SearchPage = () => {\n\n  // Get the search value from useLocation() here\n  const { search } = useLocation();\n\n  const queryParams = useMemo(() => { \n    return new URLSearchParams(search);\n  }, [search]);\n\n  const [pets, setPets] = useState([]);\n\n  useEffect(() => {\n    async function getPetsData() {\n      const petNameToFind = queryParams.get(\"name\");\n      const petsData = await getPets('', petNameToFind);\n\n      setPets(petsData);\n    }\n\n    getPetsData();\n  }, [queryParams]);\n\n  return (\n    <div className=\"page\">\n      <Hero displayText={`Results for ${queryParams.get('name')}`} />\n\n      <h3>Pets available for adoption near you</h3>\n\n      <main>\n        <div className=\"grid\">\n          {pets.map((pet) => (\n            <Pet animal={pet} key={pet.id} />\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default SearchPage;\n"],"mappings":"qcAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,MAAOC,KAAI,KAAM,uBAAuB,CACxC,OAASC,OAAO,KAAQ,qBAAqB,CAC7C,MAAOC,IAAG,KAAM,sBAAsB,CAEtC;AACA,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CAEvB;AACA,iBAAmBD,WAAW,EAAE,CAAxBE,MAAM,cAANA,MAAM,CAEd,GAAMC,YAAW,CAAGP,OAAO,CAAC,UAAM,CAChC,MAAO,IAAIQ,gBAAe,CAACF,MAAM,CAAC,CACpC,CAAC,CAAE,CAACA,MAAM,CAAC,CAAC,CAEZ,cAAwBR,QAAQ,CAAC,EAAE,CAAC,wCAA7BW,IAAI,eAAEC,OAAO,eAEpBX,SAAS,CAAC,UAAM,SACCY,YAAW,2IAA1B,8JACQC,aAAa,CAAGL,WAAW,CAACM,GAAG,CAAC,MAAM,CAAC,uBACtBX,QAAO,CAAC,EAAE,CAAEU,aAAa,CAAC,QAA3CE,QAAQ,eAEdJ,OAAO,CAACI,QAAQ,CAAC,CAAC,sDACnB,8CAEDH,WAAW,EAAE,CACf,CAAC,CAAE,CAACJ,WAAW,CAAC,CAAC,CAEjB,mBACE,aAAK,SAAS,CAAC,MAAM,wBACnB,KAAC,IAAI,EAAC,WAAW,uBAAiBA,WAAW,CAACM,GAAG,CAAC,MAAM,CAAC,CAAG,EAAG,cAE/D,oBAAI,sCAAoC,EAAK,cAE7C,mCACE,YAAK,SAAS,CAAC,MAAM,UAClBJ,IAAI,CAACM,GAAG,CAAC,SAACC,GAAG,qBACZ,KAAC,GAAG,EAAC,MAAM,CAAEA,GAAI,EAAMA,GAAG,CAACC,EAAE,CAAI,EAClC,CAAC,EACE,EACD,GACH,CAEV,CAAC,CAED,cAAeZ,WAAU"},"metadata":{},"sourceType":"module"}