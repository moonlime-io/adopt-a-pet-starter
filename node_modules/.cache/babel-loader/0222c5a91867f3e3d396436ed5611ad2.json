{"ast":null,"code":"import _regeneratorRuntime from\"/Users/io/Dev/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/io/Dev/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/io/Dev/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useParams,Redirect}from'react-router-dom';import{getPetDetails}from'../../api/petfinder';import Hero from'../../components/hero';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PetDetailsPage=function PetDetailsPage(){var _data$photos$,_data$photos$2;var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){function getPetsData(){return _getPetsData.apply(this,arguments);}function _getPetsData(){_getPetsData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var petsData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getPetDetails(id);case 3:petsData=_context.sent;setData(petsData);setError(false);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(true);case 11:setLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _getPetsData.apply(this,arguments);}getPetsData();},[id]);return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"h3\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Redirect,{to:\"/pet-details-not-found\"})}):/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Hero,{image:((_data$photos$=data.photos[1])===null||_data$photos$===void 0?void 0:_data$photos$.full)||'https://i.imgur.com/aEcJUFK.png',displayText:\"Meet \".concat(data.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"pet-detail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pet-image-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"pet-image\",src:((_data$photos$2=data.photos[0])===null||_data$photos$2===void 0?void 0:_data$photos$2.medium)||'https://i.imgur.com/aEcJUFK.png',alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:data.name}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Breed: \",data.breeds.primary]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Color: \",data.colors.primary||'Unknown']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Gender: \",data.gender]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:data.description})]})]})]})});};export default PetDetailsPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Redirect","getPetDetails","Hero","PetDetailsPage","data","setData","loading","setLoading","error","setError","id","getPetsData","petsData","photos","full","name","medium","breeds","primary","colors","gender","description"],"sources":["/Users/io/Dev/adopt-a-pet-starter/src/pages/detail/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Redirect } from 'react-router-dom';\nimport { getPetDetails } from '../../api/petfinder';\nimport Hero from '../../components/hero';\n\nconst PetDetailsPage = () => {\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const { id } = useParams();\n\n  useEffect(() => {\n    async function getPetsData() {\n      try {\n        const petsData = await getPetDetails(id);\n        setData(petsData);\n        setError(false);\n      } catch (e) {\n        setError(true);\n      }\n      setLoading(false);\n    }\n\n    getPetsData();\n  }, [id]);\n\n  return (\n    <div>\n      {loading ? (\n        <h3>Loading...</h3>\n      ) : error ? (\n        <div>\n          <Redirect to={\"/pet-details-not-found\"} />\n        </div>\n      ) : (\n        <main>\n          <Hero\n            image={data.photos[1]?.full || 'https://i.imgur.com/aEcJUFK.png'}\n            displayText={`Meet ${data.name}`}\n          />\n          <div className=\"pet-detail\">\n            <div className=\"pet-image-container\">\n              <img\n                className=\"pet-image\"\n                src={\n                  data.photos[0]?.medium || 'https://i.imgur.com/aEcJUFK.png'\n                }\n                alt=\"\"\n              />\n            </div>\n            <div>\n              <h1>{data.name}</h1>\n              <h3>Breed: {data.breeds.primary}</h3>\n              <p>Color: {data.colors.primary || 'Unknown'}</p>\n              <p>Gender: {data.gender}</p>\n              <h3>Description</h3>\n              <p>{data.description}</p>\n            </div>\n          </div>\n        </main>\n      )}\n    </div>\n  );\n};\n\nexport default PetDetailsPage;\n"],"mappings":"qcAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,kBAAkB,CACtD,OAASC,aAAa,KAAQ,qBAAqB,CACnD,MAAOC,KAAI,KAAM,uBAAuB,CAAC,wFAEzC,GAAMC,eAAc,CAAG,QAAjBA,eAAc,EAAS,kCAC3B,cAAwBL,QAAQ,EAAE,wCAA3BM,IAAI,eAAEC,OAAO,eACpB,eAA8BP,QAAQ,CAAC,IAAI,CAAC,yCAArCQ,OAAO,eAAEC,UAAU,eAC1B,eAA0BT,QAAQ,CAAC,KAAK,CAAC,yCAAlCU,KAAK,eAAEC,QAAQ,eACtB,eAAeV,SAAS,EAAE,CAAlBW,EAAE,YAAFA,EAAE,CAEVb,SAAS,CAAC,UAAM,SACCc,YAAW,2IAA1B,sLAE2BV,cAAa,CAACS,EAAE,CAAC,QAAlCE,QAAQ,eACdP,OAAO,CAACO,QAAQ,CAAC,CACjBH,QAAQ,CAAC,KAAK,CAAC,CAAC,+EAEhBA,QAAQ,CAAC,IAAI,CAAC,CAAC,QAEjBF,UAAU,CAAC,KAAK,CAAC,CAAC,oEACnB,8CAEDI,WAAW,EAAE,CACf,CAAC,CAAE,CAACD,EAAE,CAAC,CAAC,CAER,mBACE,qBACGJ,OAAO,cACN,oBAAI,YAAU,EAAK,CACjBE,KAAK,cACP,kCACE,KAAC,QAAQ,EAAC,EAAE,CAAE,wBAAyB,EAAG,EACtC,cAEN,qCACE,KAAC,IAAI,EACH,KAAK,CAAE,gBAAAJ,IAAI,CAACS,MAAM,CAAC,CAAC,CAAC,wCAAd,cAAgBC,IAAI,GAAI,iCAAkC,CACjE,WAAW,gBAAUV,IAAI,CAACW,IAAI,CAAG,EACjC,cACF,aAAK,SAAS,CAAC,YAAY,wBACzB,YAAK,SAAS,CAAC,qBAAqB,uBAClC,YACE,SAAS,CAAC,WAAW,CACrB,GAAG,CACD,iBAAAX,IAAI,CAACS,MAAM,CAAC,CAAC,CAAC,yCAAd,eAAgBG,MAAM,GAAI,iCAC3B,CACD,GAAG,CAAC,EAAE,EACN,EACE,cACN,oCACE,oBAAKZ,IAAI,CAACW,IAAI,EAAM,cACpB,sBAAI,SAAO,CAACX,IAAI,CAACa,MAAM,CAACC,OAAO,GAAM,cACrC,qBAAG,SAAO,CAACd,IAAI,CAACe,MAAM,CAACD,OAAO,EAAI,SAAS,GAAK,cAChD,qBAAG,UAAQ,CAACd,IAAI,CAACgB,MAAM,GAAK,cAC5B,oBAAI,aAAW,EAAK,cACpB,mBAAIhB,IAAI,CAACiB,WAAW,EAAK,GACrB,GACF,GAET,EACG,CAEV,CAAC,CAED,cAAelB,eAAc"},"metadata":{},"sourceType":"module"}